<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="AbstractTask: Implement a C++ interface for Python’s set type and demonstrate its use in a Boost.Python testIntroduction
Boost.Python is a C++ library">
    

    <!--Author-->
    
        <meta name="author" content="Weizhe Yang">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="The report of Boost.Python">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Gavin">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>The report of Boost.Python - Gavin</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2019/05/25/Report/">
                The report of Boost.Python
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-05-25</span>
            
            
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><h3 id="Task-Implement-a-C-interface-for-Python’s-set-type-and-demonstrate-its-use-in-a-Boost-Python-test"><a href="#Task-Implement-a-C-interface-for-Python’s-set-type-and-demonstrate-its-use-in-a-Boost-Python-test" class="headerlink" title="Task: Implement a C++ interface for Python’s set type and demonstrate its use in a Boost.Python test"></a>Task: Implement a C++ interface for Python’s set type and demonstrate its use in a Boost.Python test</h3><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><blockquote>
<h3 id="Boost-Python-is-a-C-library-which-enables-seamless-interoperability-between-C-and-the-Python-programming-language-The-library-includes-support-for-exporting-C-Iterators-as-Python-Iterators-So-we-can-use-boost-python-to-call-c-classes-in-Python-to-achieve-seamless-operation-between-C-and-Python"><a href="#Boost-Python-is-a-C-library-which-enables-seamless-interoperability-between-C-and-the-Python-programming-language-The-library-includes-support-for-exporting-C-Iterators-as-Python-Iterators-So-we-can-use-boost-python-to-call-c-classes-in-Python-to-achieve-seamless-operation-between-C-and-Python" class="headerlink" title="Boost.Python is a C++ library which enables seamless interoperability between C++ and the Python programming language. The library includes support for exporting C++ Iterators as Python Iterators. So we can use boost.python to call c++ classes in Python to achieve seamless operation between C++ and Python."></a>Boost.Python is a C++ library which enables seamless interoperability between C++ and the Python programming language. The library includes support for exporting C++ Iterators as Python Iterators. So we can use boost.python to call c++ classes in Python to achieve seamless operation between C++ and Python.</h3></blockquote>
<h1 id="Theoretical-Background"><a href="#Theoretical-Background" class="headerlink" title="Theoretical Background"></a>Theoretical Background</h1><ul>
<li><strong><em>Understand the set type in Python, master its main idea, study all the methods in the set type one by one, and understand their usage.</em></strong></li>
<li><strong><em>Create a set class in C++, and design the data structure according to the characteristics of the set type in Python and define various methods to achieve the same effect as the set class in python.</em></strong></li>
<li><strong><em>Install the boost library, compile boost. python, get dynamic library and static library.</em></strong></li>
<li><strong><em>Set the configuration file for boost.python.</em></strong></li>
<li><strong><em>Wrap the written C++ set class source file with the compiled boost.python library.</em></strong></li>
<li><strong><em>Import the generated file in python, call the set type, and write the test program to demonstrate its usage.</em></strong></li>
</ul>
<h1 id="Apparatus-and-procedure"><a href="#Apparatus-and-procedure" class="headerlink" title="Apparatus and procedure"></a>Apparatus and procedure</h1><h3 id="Pre-preparation"><a href="#Pre-preparation" class="headerlink" title="Pre-preparation"></a>Pre-preparation</h3><ul>
<li>Tools: C++, python3.6, boost.python.</li>
<li>Procedure: <a href="http://gitlab.wfuhpc.org:28015/Legends/boost.python/blob/master/set_interface.cpp" target="_blank" rel="noopener">set_interface.cpp</a>, <a href="http://gitlab.wfuhpc.org:28015/Legends/boost.python/blob/master/The%20Boost%20python%20wrap" target="_blank" rel="noopener">the Boost python wrap</a>, <a href>python test</a><h3 id="Install-and-compile-the-boost-library"><a href="#Install-and-compile-the-boost-library" class="headerlink" title="Install and compile the boost library"></a>Install and compile the boost library</h3></li>
<li>Download the boos library: <a href="https://dl.bintray.com/boostorg/release/1.68.0/source/" target="_blank" rel="noopener">https://dl.bintray.com/boostorg/release/1.68.0/source/</a></li>
<li>Unzip the boost package to “E:\boost\boost_1_68_0”</li>
<li>Go to the directory on the command line and execute the bootstrap.bat file to generate two files b2.exe and bjam.exe. The two commands have the same effect. bjam is the old version and b2 is the upgrade version.</li>
<li><p>Modify the configuration file E:\boost\boost_1_68_0\tools\build\example\user-config.jam and copy it to the boost_1_68_0 directory. The contents of the configuration file are as follows:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   using python : 3.6  #indicates the python version number installed on this machine</span><br><span class="line">: D:\Python3\\python.exe  # python</span><br><span class="line">: D:\Python3\\include  # pythonpython header package</span><br><span class="line">: D:\Python3\\libs  # Dynamic Library Path</span><br><span class="line">: &lt;toolset&gt;msvc  # means to compile boost.python library with Visual Studio</span><br><span class="line">   ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Compile the boost.python library with msvc14.1:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b2 toolset=msvc-14.0 --with-python variant=debug runtime-debugging=on link=static --user-config=user-config.jam stage</span><br></pre></td></tr></table></figure>
<p>  After the compilation is successful, the dynamic library file will be generated in the “E:\boost\boost_1_68_0\stage\lib” directory.</p>
</li>
<li>Create a test project in Visual Studio and add the configuration in the project configuration:</li>
</ul>
<ol>
<li>Include the boost header file (E:\boost\boost_1_68_0), python header file (D:\Python3\include)</li>
<li>Link boost lib (E:\boost\boost_1_68_0\stage\lib), python libs (D:\Python3\libs)</li>
</ol>
<p><strong><em>Specific method</em></strong></p>
<ol>
<li>In Configuration Properties &gt; C/C++ &gt; General &gt; Additional Include Directories, enter the path to the Boost root directory and python header file directory :<br>  “E:\boost\boost_1_68_0; D:\Python3\include”</li>
<li>Open Project Properties -&gt; Configuration Properties -&gt; Linker -&gt; General, add dynamic library directory for boost and python in “Additional Library Directory”:<br>  “E:\boost\boost_1_68_0\stage\lib; D:\Python3\libs”</li>
</ol>
<h3 id="Prepare-the-set-class"><a href="#Prepare-the-set-class" class="headerlink" title="Prepare the set class"></a>Prepare the set class</h3><ul>
<li>Source file : <a href="http://gitlab.wfuhpc.org:28015/Legends/boost.python/blob/master/set_interface.cpp" target="_blank" rel="noopener">set_interface</a></li>
<li>Class name: set</li>
<li><p>Data Structure: Linked List</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Typedef struct Node&#123;</span><br><span class="line">    T data;</span><br><span class="line">    Struct Node *next;</span><br><span class="line">&#125; *LinkList;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Functions</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">void add(Elemtype n); //Add elements to the collection</span><br><span class="line">Elemtype begin(); //returns the first element of the collection</span><br><span class="line">Elemtype end (); / / return the last element of the collection</span><br><span class="line">void clear(); //Clear all elements in the collection</span><br><span class="line">set copy(); //returns a copy of the current collection</span><br><span class="line">void print();//output the current collection</span><br><span class="line">int size(); //Get the number of elements in the collection</span><br><span class="line">void discard(Elemtype value);//Delete the element whose value is value in the collection</span><br><span class="line">set difference(set another); //get the difference set</span><br><span class="line">bool empty(); //Check if the current collection is empty</span><br><span class="line">void pop(); // randomly remove an element</span><br><span class="line">void remove(); //delete the element with value</span><br><span class="line">void union_(); // get union</span><br><span class="line">void update(set another); //Add the another collection to the current collection</span><br><span class="line">void update(Elemtype value); //Add the element value to the current collection</span><br><span class="line">set intersection(set another); //get intersection</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Wrap"><a href="#Wrap" class="headerlink" title="Wrap"></a>Wrap</h3><ul>
<li>Add a macro definition before all code: #define BOOST_PYTHON_STATIC_LIB //declare that the compiled static link library will be used</li>
<li>Add code for wrapping in the source file set_interface:  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  BOOST_PYTHON_MODULE(set_interface) </span><br><span class="line">  &#123;</span><br><span class="line">   using namespace boost::python;</span><br><span class="line">   class_&lt;set&gt;(&quot;set&quot;, init&lt;int&gt;())</span><br><span class="line">.def(&quot;add&quot;, &amp;set::add)</span><br><span class="line">.def(&quot;begin&quot;, &amp;set::begin)</span><br><span class="line">.def(&quot;clear&quot;, &amp;set::clear)</span><br><span class="line">.def(&quot;copy&quot;, &amp;set::copy)</span><br><span class="line">.def(&quot;print&quot;, &amp;set::print)</span><br><span class="line">.def(&quot;size&quot;, &amp;set::size)</span><br><span class="line">.def(&quot;discard&quot;, &amp;set::discard)</span><br><span class="line">.def(&quot;difference&quot;, &amp;set::difference)</span><br><span class="line">.def(&quot;empty&quot;, &amp;set::empty)</span><br><span class="line">.def(&quot;pop&quot;, &amp;set::pop)</span><br><span class="line">.def(&quot;remove&quot;, &amp;set::remove)</span><br><span class="line">.def(&quot;union_&quot;, &amp;set::union_)</span><br><span class="line">.def(&quot;update&quot;, &amp;set::update)</span><br><span class="line">.def(&quot;intersection&quot;, &amp;set::intersection)</span><br><span class="line">;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="General-Dynamic-Library"><a href="#General-Dynamic-Library" class="headerlink" title="General Dynamic Library"></a>General Dynamic Library</h3><ul>
<li>Open Project Properties -&gt; Configuration Properties -&gt; General and select “Dynamic Library (.dll)” in the Project Defaults -&gt; Configuration Type on the right. This will cause VS to generate dll dynamic library files instead of exe executables.</li>
<li>Select Build -&gt; Build Solution, generate a .dll file, copy the file to the Python project directory, change the suffix to .pyd, and get the Python library file, which can be imported directly via import.<h1 id="Results-and-discussion"><a href="#Results-and-discussion" class="headerlink" title="Results and discussion"></a>Results and discussion</h1></li>
</ul>
<h1 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h1>
    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/123/">#123</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/05/25/Report/">The report of Boost.Pytho</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/05/21/Test/">Untitled</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/05/21/hello-world/">Hello World</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>